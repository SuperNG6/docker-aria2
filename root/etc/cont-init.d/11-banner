#!/usr/bin/with-contenv bash
# shellcheck shell=bash
# shellcheck disable=SC1091,SC2312
# æ˜¾ç¤ºå¯åŠ¨çœ‹æ¿ï¼ˆä»…åœ¨å®¹å™¨å¯åŠ¨æ—¶æ˜¾ç¤ºä¸€æ¬¡ï¼‰
set -euo pipefail
. /aria2/scripts/lib/logger.sh

build=$(sed -n '1p' /aria2/build-date 2>/dev/null)
ver=${build:-docker-aria2}
arch=$(uname -m)
base="Alpine Linux $(cat /etc/alpine-release 2>/dev/null)"
tz=${TZ:-Asia/Shanghai}

echo "==============================================================================="
echo "                    ğŸš€ Docker-Aria2 å®¹å™¨å¯åŠ¨æˆåŠŸ ğŸš€"
echo "==============================================================================="
echo
echo "ğŸ“¦ é•œåƒä¿¡æ¯:"
echo "   ç‰ˆæœ¬ä¿¡æ¯: ${ver}"
echo "   AriaNgç‰ˆæœ¬: $(sed -n '2p' /aria2/build-date 2>/dev/null | sed 's/docker-ariang-//')"
echo "   Aria2ç‰ˆæœ¬: 1.36.0 (é™æ€ç¼–è¯‘, è§£é™¤çº¿ç¨‹é™åˆ¶)"
echo "   å¹³å°æ¶æ„: ${arch}"
echo "   åŸºç¡€é•œåƒ: ${base}"
echo "   æ—¶åŒºè®¾ç½®: ${tz}"
echo
echo "ğŸŒ æœåŠ¡ç«¯å£:"
echo "   RPCç«¯å£: ${PORT:-6800}"
if [[ "${WEBUI:-true}" = "true" ]]; then echo "   WebUIç«¯å£: ${WEBUI_PORT:-8080} [å¯ç”¨]"; else echo "   WebUIç«¯å£: ${WEBUI_PORT:-8080} [åœç”¨]"; fi
echo "   BTç›‘å¬ç«¯å£: ${BTPORT:-32516} (TCP/UDP)"
echo
echo "âš™ï¸  æ ¸å¿ƒé…ç½®:"
echo "   ç£ç›˜ç¼“å­˜: ${CACHE:-128M}"
echo "   é™é»˜æ¨¡å¼: [${QUIET:-true}]"
echo "   ç”¨æˆ·æƒé™: PUID=${PUID:-0}, PGID=${PGID:-0}"
echo
echo "ğŸ¯ åŠŸèƒ½ç‰¹æ€§:"
echo "   å¯åŠ¨æ›´æ–°Tracker: [${UT:-true}]"
echo "   å®šæ—¶æ›´æ–°Tracker: [${RUT:-true}]"
echo "   Tracker è¾“å‡º: é»˜è®¤ä»…æ˜¾ç¤ºæ•°é‡ï¼›è®¾ TRACKER_SHOW=list æˆ– DEBUG=1 æ˜¾ç¤ºå®Œæ•´åˆ—è¡¨"
echo "   ä¿å­˜ç£åŠ›ä¸ºç§å­: [${SMD:-true}]"
echo "   å±è”½å¸è¡€å®¢æˆ·ç«¯: $([[ "${A2B:-false}" = "true" && -f /usr/local/bin/aria2b ]] && echo "[å¯ç”¨]" || echo "[ç¦ç”¨]")"
echo
echo "ğŸ“š å¸®åŠ©é“¾æ¥:"
echo "   é¡¹ç›®åœ°å€: https://github.com/SuperNG6/docker-aria2"
echo "   ä½¿ç”¨æ•™ç¨‹: https://sleele.com/2019/09/27/docker-aria2çš„æœ€ä½³å®è·µ"
echo "   Docker Hub: https://hub.docker.com/r/superng6/aria2"
echo
echo "==============================================================================="
echo "                      ğŸ‰ å¯åŠ¨å®Œæˆ ğŸ‰"
echo "==============================================================================="
